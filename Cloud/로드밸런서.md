# 로드밸런서

- 서비스에 너무 많은 사용자(클라이언트)가 서버에 너무 많은 요청을 보낸다면 서버는 과부하가 오게 된다.
- 과부하로 인해 서버가 원활한 서비스를 제공하지 못하는 경우를 해결하기 위해 두 가지 방법이 있다.

### Scale-Up

- Scale-Up은 물리적으로 서버의 사양을 높이는 **하드웨어적인 방법**이다.
- 서버의 수를 늘리지 않고 **프로그램 구현에 있어 변화가 필요없다**는 장점이 있다.
- 하지만 사양을 높이는데에는 **굉장히 높은 비용**이 들고, **하드웨어의 업그레이드엔 한계가 있다**는 큰 단점이 있다.
- 또한 사양을 늘린만큼 클라이언트의 요청이 더욱 많아진다면, 서버에 발생하는 부하는 여전히 **해결하지 못하는 상황**이 된다.

### Scale-Out

- Scale-Out은 서버의 갯수를 늘려 하나의 서버에 줄 부하를 분산시키는 방법이다.
- 많은 요청이 오더라도 여러대의 서버가 나눠서 처리를 하기 때문에 서버의 사양을 높이지 않고도 **비교적 저렴한 방법**으로 부하를 처리할 수 있다.
- Scale-Out 방법으로 **여러대의 서버로 부하를 처리하는 경우, 클라이언트의 요청을 여러 서버에 나눠 처리할 수 있도록 교통정리**를 해줄 **로드밸런서**가 필요하다.
- 여러 서버에 교통정리를 해주는 기술 혹은 프로그램을 **로드 밸런싱**이라고 부른다.

## 로드 밸런서의 종류

- 로드 밸런서는 클라이언트의 요청을 어떤 것을 기준으로 분산시키냐에 따라 네 가지 종류로 나뉜다.

| 종류 | 로드밸런싱 기준 |
| --- | --- |
| L2 | 데이터 전송 계층에서 Mac 주소를 바탕으로 로드 밸런싱 |
| L3 | 네트워크 계층에서 IP 주소를 바탕으로 로드 밸런싱 |
| L4 | 전송 계층에서 IP주소와 Port를 바탕으로 로드 밸런싱 |
| L7 | 응용 계층에서 클라이언트의 요청을 바탕으로 로드 밸런싱(ex. 엔드포인트) |