# 체크 예외(Checked Exception)와 언체크 예외(Unchecked Exception)

### 체크 예외

- 말 그대로 발생한 예외를 잡아서(catch) 체크한 후 해당 예외를 복구 또는 회피하는 등의 처리를 해줘야 하는 예외이다.
- 자바에서 흔하게 볼 수 있는 대표적인 체크 예외로 `ClassNotFoundException` 이 있다.

### 언체크 예외

- 언체크 예외는 예외를 잡아서(catch) 해당 예외에 대한 처리를 할 필요가 없는 예외를 의미한다.
- 따라서 언체크 예외는 명시적으로 잡아서(catch) 어떤 처리르 할 필요가 없다.
- 흔히 개발자가 코드를 잘못 작성해서 발생하는 이런 오류들은 모두 `RuntimeException` 을 상속한 예외들이다.
- Java나 Srping에서 수많은 `RuntimeException` 을 지원해주지만 이 RuntimeException을 이용해서 개발자가 직접 예외(Exception)를 만들어야 할 경우도 있다.

## 개발자가 의도적으로 예외를 던질 수(throw) 있는 상황

### 백엔드 서버와 외부 시스템과의 연동에서 발생하는 에러 처리

예를 들어 암호 화폐 지갑과 연동하는 서비스를 만들었을 때, 사용자A가 사용자B에게 코인을 전송하는 과정에서 사용자A의 코인 잔고가 부족하다는 메시지를 받고, 프로세스가 중단되었다. 

백엔드 서버 쪽에서 이런 예외가 발생했다면 이 예외를 복구하려고 시도해봤자 할 수 있는게 없다. 이럴 땐 잔고가 부족한 상황을 클라이언트 쪽에 즉시 알려서 클라이언트가 지갑에 잔고를 채우도록 하는게 최선의 방법이다.

이 경우, 백엔드 서버 쪽에서 예외를 의도적으로 던져서 클라이언트 쪽에 에러가 발생한 정보를 알려줄 수 있다.

### 시스템 내부에서 조회하려는 리소스가 없는 경우

애플리케이션에서 회원 정보를 조회했을 때, DB에 회원의 정보가 없을 수 있다. 이런 경우 서비스 계층에서 해당 회원 정보가 없다는 예외를 의도적으로 전송해서 클라이언트 쪽에 알려줄 수 있다.

## 의도적인 예외 던지기/받기(throw/catch)

- Java에서는 throw 키워드를 사용해서 예외를 메서드 바깥으로 던질 수 있다.
- 던져진 예외는 메서드 바깥. 즉, 메서드를 호출한 지점으로 던져지게 된다.
- 서비스 계층에서 예외를 던지면 → API 계층인 Controller의 핸들러 메서드가 이용하므로 서비스 계층에서 던져진 예외는 Controller의 핸들러 메서드 쪽에서 잡아서 처리할 수 있다.
- Controller에서 발생하는 예외를 Exception Advice에서 처리하도록 공통화 해두었다면 서비스 계층에서 던져진 예외 역시 Exception Advice에서 처리하면 된다.