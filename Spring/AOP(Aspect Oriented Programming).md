* [목차](#목차)
* [AOP(Aspect Oriented Programming)](#aopaspect-oriented-programming)
    + [중요한 기본 개념](#중요한-기본-개념)
    + [객체 지향 프로그래밍(Object Oriented Programming:OOP)](#객체-지향-프로그래밍object-oriented-programmingoop)
    + [AOP의 등장](#aop의-등장)
		+ [AOP란 무엇일까?](#aop란-무엇일까)
		+ [AOP의 핵심 기능과 부가 기능](#aop의-핵심-기능과-부가-기능)
		+ [여러 곳에서 공통으로 사용하는 부가 기능](#여러-곳에서-공통으로-사용하는-부가-기능)
		+ [AOP가 필요한 이유](#aop가-필요한-이유)
		+ [핵심 포인트](#핵심-포인트)

# AOP(Aspect Oriented Programming)

## 중요한 기본 개념

- **핵심 기능(Core Concerns)** : 업무 로직을 포함하는 기능
- **부가 기능(Cross-Cutting Concerns)** : 핵심 기능을 도와주는 부가적인 기능
    - 로깅, 보안, 트랜잭션 등이 있다.
- **Aspect** : 부가 기능을 정의한 코드인 어드바이스(Advice)와 어드바이스를 어디에 적용할지 결정하는 포인트컷(PointCut)을 합친 개념이다.(`Advice` + `PointCut` → `Aspect`)

- AOP는 기존에 사용하던 OOP를 대체하기 위한 것이 아닌 횡단 관심사를 깔끔하게 처리하기 위해 OOP의 부족한 부분을 보조하는 목적으로 개발되었다.

## 객체 지향 프로그래밍(Object Oriented Programming:OOP)

- OOP의 핵심은 공통된 목적을 띈 데이터와 동작을 묶어 하나의 객체로 정의하는 것이다.
- 객체를 적극적으로 활용함으로써 기능을 재사용할 수 있는 것이 큰 장점이다.
- 객체를 잘 활용하기 위해선 관심사 분리(Separation of Concerns, SOC)의 디자인 원칙을 준수해야 한다.

### 주요 개념

- Spring MVC구조는 @Conroller, @Service, @Repository와 같이 관심사 별로 계층을 나눠 객체를 관리하게 된다.
- 관심사의 분리는 모듈화의 핵심이다.

### 문제점

- 특정 관심사 업무 코드에 트랜잭션, 보안, 로깅 등의 코드가 존재한다.
- 트랜잭션, 보안, 로깅 코드는 업무와는 관련이 없지만 애플리케이션에 필수적인 부가 기능이다.
- 트랜잭션, 보안, 로깅 기능은 불특정 다수의 클래스에서 존재하게 된다.
- 관심사 관점에서는 트랜잭션, 보안, 로깅 코드들을 횡단 관심사(Cross-Cutting Concerns: 부가기능)라고 한다.
- 업무 관련 코드는 핵심 관심사(Core Concerns: 핵심 기능)라고 한다.
- **비즈니스 클래스에 횡단 관심사와 핵심 관심사가 공존하게 된다.**
    - 메소드 복잡도 증가 → 비즈니스 코드 파악이 어렵게 된다.
    - 부가 기능의 불특정 다수 메소드가 반복적으로 구현 → 횡단 관심사의 모듈화가 어렵다.

## AOP의 등장

- OOP만 사용해선 횡단 관심사 코드를 깔끔하게 분리하고 비즈니스 코드에 적용하기 어려웠다.
- 이러한 OOP의 관심사 분리에 대한 한계적인 부분을 해결하고자 AOP가 등장하게 된다.

### AOP란 무엇일까?

- AOP는 기존과 다른 프로그램 구조 사고 방식을 제공함으로써 객체 지향 프로그래밍(OOP)의 부족한 부분을 보완한다.
- OOP의 모듈화의 핵심 단위는 클래스이고, AOP의 모듈화의 핵심 단위는 관점이다.
- Aspect는 여러 유형과 객체 간에 발생하는 문제(예: 트랜잭션)의 모듈화를 가능하게 한다.

### AOP의 핵심 기능과 부가 기능

> 애플리케이션 로직은 크게 핵심 기능과 부가 기능으로 나눌 수 있다.
> 
- 핵심 기능(Core Concerns)
    - 객체가 제공하는 고유의 기능(업무 로직 등을 포함)
- 부가 기능(Cross-Cutting Concerns)
    - 핵심 기능을 보조하기 위해 제공되는 기능
    - 로그 추적 로직, 보안, 트랜잭션 기능 등이 있다.
    - 단독으로 사용되지 않고 핵심 기능과 함께 사용된다.
- 부가 기능이 필요한 경우엔 합쳐져서 하나의 로직을 완성하게 된다.
- 서비스를 실행하면 핵심 기능과 부가 기능이 함께 실행된다.

### 여러 곳에서 공통으로 사용하는 부가 기능

> 부가 기능은 보통 여러 클래스에 걸쳐서 함께 사용한다. 이러한 부가 기능은 횡단 관심사가 된다.
> 
- 부가 기능을 여러 곳에 적용하려면 번거롭고 중복 코드가 생기게 된다.
- 부가 기능에 수정이 필요하게 되면 사용되는 클래스에 하나씩 찾아가면서 수정해야 한다.

### AOP가 필요한 이유

소프트웨어 개발에서 변경 지점은 하나가 될 수 있도록 모듈화되어야 한다.

부가 기능처럼 특정 로직을 애플리케이션 전반에 적용하는 문제는 일반적인 OOP방식으로는 해결이 어렵기 때문에 핵심 기능과 부가 기능을 분리하는 AOP방식이 필요한다.

## 핵심 포인트

- 객체 지향 프로그래밍(OOP)는 객체 지향 프로그래밍이다.
- OOP방식의 프로그래밍을 했을 때 여러 곳에서 공통적으로 사용되는 부가 기능의 중복 코드가 발생하게 된다.
- 중복되는 부가 기능에 수정 및 삭제가 필요하게 되면 사용되는 모든 곳에 수정 및 삭제 동작을 해줘야 한다.
- 관심 지향 프로그램(AOP)은 OOP 방식의 불필요한 반복을 해결하기 위한 방법이다.